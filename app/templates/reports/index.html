{% extends "base.html" %}
{% set active_page = "reports.index" %}
{% set page_title = "Reportistica" %}

{% import "macros/report_macros.html" as report_macros %}

{% block content %}
<h2 class="py-2"><i class="bi bi-bar-chart-fill text-primary me-2"></i>{{ page_title }}</h2>
<h4 class="border-start border-primary border-4 ps-2 mt-4">Tutti i report</h4>

<div class="row">
  {{ report_macros.render_report_card("Volontari totali", "Totale univoco di volontari a sistema.", users_count) }}

  <div class="col-md-6 col-lg-4 mt-4">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">Volontari per gruppo</h4>
        <h6 class="card-subtitle mb-2 text-muted">Totale volontari per ogni tipologia.</h6>
        <p class="card-text text-primary">
        {% for t in users_by_type %}
          {% set value = t[0] + ": " + t[1]|string + "<br>"|safe %}
          {{ value }}
        {% endfor %}
        </p>
      </div>
    </div>
  </div>

  {{ report_macros.render_report_card("Totale ore attività", "Totale complessivo di ore spese nelle varie attività.", activity_hours) }}
</div>
{% endblock %}
