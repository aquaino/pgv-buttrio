{% extends "base.html" %}
{% set active_page = "events.index" %}

{% if action == "new" %}
  {% set page_title = "Nuovo evento" %}
  {% set page_icon = "bi-calendar-plus-fill" %}
{% elif action == "update" %}
  {% set page_title = "Modifica evento" %}
  {% set page_icon = "bi-gear-fill" %}
  {% set hidden_method = "PATCH" %}
{% endif %}

{% block content %}
<h2 class="py-2"><i class="bi {{ page_icon }} text-primary me-2"></i>{{ page_title }}</h2>
<h4 class="border-start border-primary border-4 ps-2 mt-3">Dati dell'evento</h4>
<form method="POST" class="mt-3">
  {% if action == "update" %}
    <input type="hidden" name="_method" value="{{ hidden_method }}">
  {% endif %}
  {{ form.csrf_token }}
  <div class="row mb-3">
    {{ form.gb_category.label(class="col-md-4 col-lg-2 col-form-label") }}
    <div class="col-md-8 col-lg-6">
      {{ form.gb_category(class="form-select") }}
    </div>
  </div>
  <div class="row mb-3">
    {{ form.name.label(class="col-md-4 col-lg-2 col-form-label") }}
    <div class="col-md-8 col-lg-6">
      {{ form.name(class="form-control") }}
    </div>
  </div>
  <div class="row mb-3">
    {{ form.descr.label(class="col-md-4 col-lg-2 col-form-label") }}
    <div class="col-md-8 col-lg-6">
      {{ form.descr(class="form-control") }}
    </div>
  </div>
  {{ form.submit(class="btn btn-success") }}
  <a href="{{ url_for('events.index') }}" type="button" class="btn btn-danger">Annulla</a>
</form>
{% endblock %}
